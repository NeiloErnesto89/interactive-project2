{"filter":false,"title":"pollution.js","tooltip":"/js/pollution.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":248,"column":7},"end":{"row":248,"column":9},"action":"insert","lines":["*/"],"id":3},{"start":{"row":248,"column":7},"end":{"row":248,"column":9},"action":"insert","lines":["/*"]}],[{"start":{"row":248,"column":9},"end":{"row":248,"column":11},"action":"remove","lines":["*/"],"id":4}],[{"start":{"row":248,"column":27},"end":{"row":248,"column":28},"action":"insert","lines":[" "],"id":5}],[{"start":{"row":248,"column":28},"end":{"row":248,"column":30},"action":"insert","lines":["*/"],"id":6}],[{"start":{"row":0,"column":0},"end":{"row":267,"column":5},"action":"remove","lines":["queue()","    .defer(d3.json, \"data/New_EU_28.json\")","    .await(makeGraphs);","","","function makeGraphs(error, euData) { /*refering to line 4 index */","","","    var ndx = crossfilter(euData);","    ","   /* var total_deaths_percent = reduceAvg(ndx, \"DeathsTotal\");*/","    ","    // charts","    ","    show_eu_population(ndx);","    ","    show_eu_emission_total(ndx);","    ","   /* show_total_deaths(ndx, total_deaths_percent);*/","","    show_country_selector(ndx);","","    show_eu_barchart(ndx);","","    show_death_v_gdp_correlation(ndx);","","    show_country_emission_pie(ndx);","    ","    show_yearly_plastic_waste_pie(ndx); ","    ","    show_plastic_waste_dim(ndx);","    ","    show_waste_gdp_line(ndx);","","","    dc.renderAll();","","}","","","","function show_eu_population(ndx) {","\tvar populationGroup = ndx.groupAll().reduceSum(function(d) {","\t\treturn d.Population;","\t});","\tvar populationNum = dc.numberDisplay(\"#eu-population\");","","\tpopulationNum","\t\t.group(populationGroup)","\t\t.valueAccessor(function(d) {","\t\t\treturn d;","\t\t});","}","","function show_eu_emission_total(ndx) {","\tvar emissionGroup = ndx.groupAll().reduceSum(function(d) {","\t\treturn d.EmissionsC;","\t});","\tvar totalEmissNum = dc.numberDisplay(\"#eu-total_emission\");","","\ttotalEmissNum","\t\t.group(emissionGroup)","\t\t.valueAccessor(function(d) {","\t\t\treturn d;","\t\t});","}","","/*","// ==== % population born abroad number display ","function show_total_deaths(ndx, total_deaths_percent) {","","\tvar total_deaths = dc.numberDisplay(\"#total-deaths\");","","\ttotal_deaths","\t\t.formatNumber(d3.format(\".0%\")) // format number as percentage","\t\t.group(total_deaths) // group brought in from makeCharts()","\t\t.valueAccessor(function(d) {","\t\t\treturn d.average / 100; // divide by 100 to allow % number format","\t\t});","} */","","","","function show_country_selector(ndx) {","    dim = ndx.dimension(dc.pluck(\"Country\"));","    group = dim.group()","","    dc.selectMenu(\"#country-selector\")","        .dimension(dim)","        .group(group);","}","","function show_eu_barchart(ndx) {","    var country_dim = ndx.dimension(dc.pluck(\"Country\"));","    var total_emissions = country_dim.group().reduceSum(dc.pluck('EmissionsC'));","","    var countryColors = d3.scale.ordinal()","        .domain([\"Austria\", \"Belgium\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Germany\", \"Greece\", \"Hungary\", \"Ireland\", \"Italy\", \"Latvia\", \"Lithuania\", \"Luxembourg\", \"Malta\", \"Netherlands\", \"Poland\", \"Portugal\", \"Romania\", \"Slovakia\", \"Slovenia\", \"Spain\", \"Sweden\", \"United Kingdom\"])","        .range([\"Red\", \"#15EE68\", \"red\", \"Grey\", \"Brown\", \"Purple\", \"Orange\", \"Coffee\", \"Coral\", \"Emerald\", \"Gold\", \"Black\", \"Lemon\", \"Green\", \"Blue\", \"Violet\", \"#4B15EE\", \"Crimson\", \"Jade\", \"Indigo\", \"Lime\", \"Magenta\", \"Olive\", \"Pear\", \"Peach\", \"Plum\", \"Ruby\", \"Salmon\"]);","",""," dc.barChart(\"#eu-pollution-chart\")","        .width(500)","        .height(550)","        .margins({ top: 20, right: 40, bottom: 40, left: 40 })","        .dimension(country_dim)","        .group(total_emissions)","        .transitionDuration(500)","        .x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)","        .colors(countryColors)","        .colorAccessor(function(d) {","            return d.key[0];","        })","        /*.xAxisLabel(\"Countries\")*/","        .yAxisLabel(\"Co2 Emission Level (million tonnes)\")","        .yAxis().ticks(7);","}","","","function show_death_v_gdp_correlation(ndx) {","","    var nationColors = d3.scale.ordinal()","        .domain([\"Austria\", \"Belgium\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Germany\", \"Greece\", \"Hungary\", \"Ireland\", \"Italy\", \"Latvia\", \"Lithuania\", \"Luxembourg\", \"Malta\", \"Netherlands\", \"Poland\", \"Portugal\", \"Romania\", \"Slovakia\", \"Slovenia\", \"Spain\", \"Sweden\", \"United Kingdom\"])","        .range([\"Red\", \"Yellow\", \"Pink\", \"Grey\", \"Brown\", \"Purple\", \"Orange\", \"Coffee\", \"Coral\", \"Emerald\", \"Gold\", \"Black\", \"Lemon\", \"Green\", \"Blue\", \"Violet\", \"Cyan\", \"Crimson\", \"Jade\", \"Indigo\", \"Lime\", \"Magenta\", \"Olive\", \"Pear\", \"Peach\", \"Plum\", \"Ruby\", \"Salmon\"]);","","    var gdpDim = ndx.dimension(dc.pluck(\"GDP\")) /* on x axis*/","    var deathCoDim = ndx.dimension(function(d) {","        return [d.GDP, d.DeathsPer, d.Country] /*first part on x axis*/","    });","    var gdpAndDeathGroup = deathCoDim.group();","","    var minGdpDeathRate = gdpDim.bottom(1)[0].GDP;","    var maxGdpDeathRate = gdpDim.top(1)[0].GDP;","","","    dc.scatterPlot(\"#death-v-gdp-plot\")","        .width(625)","        .height(400)","       /* height(window.innerHeight - 300)","        .width(window.innerWidth - 65 % window)*/","        .x(d3.scale.linear().domain([minGdpDeathRate, maxGdpDeathRate])) /* as gdp is numerical i.e. 10 is more than 9 */","        .brushOn(false)","        .symbolSize(6)","        .clipPadding(10)","        .xAxisLabel(\"GDP (€)\")","        .yAxisLabel(\"Deaths\")","        .title(function(d) {","            return \"The average death rate due to air pollution is \" + d.key[1] + \" per 100,000 in \" + d.key[2];","        })","        .colorAccessor(function(d) {","            return d.key[2];","        })","        .colors(nationColors)","        .dimension(deathCoDim)","        .group(gdpAndDeathGroup)","        .margins({ top: 10, right: 50, bottom: 75, left: 75 })","        .xAxis().ticks(5);","","","}","","","function show_country_emission_pie(ndx) {","    var area_dim = ndx.dimension(dc.pluck('Country'));","    var total_emissions_pie = area_dim.group().reduceSum(dc.pluck('EmissionsC'));","","    dc.pieChart(\"#country-pie-chart\")","        .width(450)","        .height(500)","        .innerRadius(50)","        .externalRadiusPadding(45)","        .transitionDuration(1500)","        .dimension(area_dim)","        .group(total_emissions_pie)","        .externalLabels(20)","        .drawPaths(true)","        .minAngleForLabel(0)","        .cap(5)","        .legend(","      dc","        .legend()","        .x(395)","        .y(20)","        .horizontal(false)","        .itemHeight(5)","        .gap(5)","    );","       /* .legend(dc.legend().x(270).y(0).itemHeight(8).gap(5));*/","}","","","function show_yearly_plastic_waste_pie(ndx) {","        var area_dim = ndx.dimension(dc.pluck('Country'));","    var yearly_plastic_pie = area_dim.group().reduceSum(dc.pluck('PlasticWasteYearly'));","","    dc.pieChart(\"#yearly-plastic-pie\")","        .width(425)","        .height(450)","        .innerRadius(40)","        .externalRadiusPadding(45)","        .transitionDuration(1500)","        .dimension(area_dim)","        .group(yearly_plastic_pie)","        .externalLabels(20)","        .drawPaths(true)","        .minAngleForLabel(0)","        .cap(9)","        .legend(","      dc","        .legend()","        .x(365)","        .y(15)","        .horizontal(false)","        .itemHeight(5)","        .gap(5)","    );","}","","","    function show_plastic_waste_dim(ndx) {","        ","        var plastic_dimension = ndx.dimension(function (d) {","            if (d.PlasticWasteYearly > 50)","                return \"+ 50kgs per person\";","            else","                return \"- 50kgs per person\"","        });","        ","        var plastic_group = plastic_dimension.group();","        ","        ","        dc.pieChart('#yearly-plastic-dim')","            .height(380)","            .width(350)","            .radius(110)","            .dimension(plastic_dimension)","            .group(plastic_group);","    ","    }","    ","    function show_waste_gdp_line(ndx) {","        ","       /*  var formatGDP = d3.format(toFixed(4)).parse;","        euData.forEach(function(d){","            d.GDP = parseGDP(d.GDP);","        }); */","        ","       /* d3.format(',.2r') */","        ","        var gdp_dim = ndx.dimension(dc.pluck('GDP'));","        var total_plastic_v_gdp = gdp_dim.group().reduceSum(dc.pluck('PlasticWasteYearly'));","        var minGDP = gdp_dim.bottom(1)[0].GDP;","        var maxGDP = gdp_dim.top(1)[0].GDP;","","        dc.lineChart(\"#waste-gdp-line\")","            .width(600)","            .height(300)","            .margins({top: 10, right: 50, bottom: 30, left: 50})","            .dimension(gdp_dim)","            .group(total_plastic_v_gdp)","            .transitionDuration(500)","            .x(d3.time.scale().domain([minGDP,maxGDP]))","            .xAxisLabel(\"GDP\")","            .Axis().ticks(5)","            .yAxisLabel(\"Yearly Plastic Generation per Capita (kg)\")","            .yAxis().ticks(5);","    }"],"id":7},{"start":{"row":0,"column":0},"end":{"row":266,"column":5},"action":"insert","lines":["queue()","    .defer(d3.json, \"data/New_EU_28.json\")","    .await(makeGraphs);","","","function makeGraphs(error, euData) { /*refering to line 4 index */","","","    var ndx = crossfilter(euData);","    ","   /* var total_deaths_percent = reduceAvg(ndx, \"DeathsTotal\");*/","    ","    // charts","    ","    show_eu_population(ndx);","    ","    show_eu_emission_total(ndx);","    ","   /* show_total_deaths(ndx, total_deaths_percent);*/","","    show_country_selector(ndx);","","    show_eu_barchart(ndx);","","    show_death_v_gdp_correlation(ndx);","","    show_country_emission_pie(ndx);","    ","    show_yearly_plastic_waste_pie(ndx); ","    ","    show_plastic_waste_dim(ndx);","    ","    show_waste_gdp_line(ndx);","","","    dc.renderAll();","","}","","","","function show_eu_population(ndx) {","\tvar populationGroup = ndx.groupAll().reduceSum(function(d) {","\t\treturn d.Population;","\t});","\tvar populationNum = dc.numberDisplay(\"#eu-population\");","","\tpopulationNum","\t\t.group(populationGroup)","\t\t.valueAccessor(function(d) {","\t\t\treturn d;","\t\t});","}","","function show_eu_emission_total(ndx) {","\tvar emissionGroup = ndx.groupAll().reduceSum(function(d) {","\t\treturn d.EmissionsC;","\t});","\tvar totalEmissNum = dc.numberDisplay(\"#eu-total_emission\");","","\ttotalEmissNum","\t\t.group(emissionGroup)","\t\t.valueAccessor(function(d) {","\t\t\treturn d;","\t\t});","}","","/*","// ==== % population born abroad number display ","function show_total_deaths(ndx, total_deaths_percent) {","","\tvar total_deaths = dc.numberDisplay(\"#total-deaths\");","","\ttotal_deaths","\t\t.formatNumber(d3.format(\".0%\")) // format number as percentage","\t\t.group(total_deaths) // group brought in from makeCharts()","\t\t.valueAccessor(function(d) {","\t\t\treturn d.average / 100; // divide by 100 to allow % number format","\t\t});","} */","","","","function show_country_selector(ndx) {","    dim = ndx.dimension(dc.pluck(\"Country\"));","    group = dim.group()","","    dc.selectMenu(\"#country-selector\")","        .dimension(dim)","        .group(group);","}","","function show_eu_barchart(ndx) {","    var country_dim = ndx.dimension(dc.pluck(\"Country\"));","    var total_emissions = country_dim.group().reduceSum(dc.pluck('EmissionsC'));","","    var countryColors = d3.scale.ordinal()","        .domain([\"Austria\", \"Belgium\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Germany\", \"Greece\", \"Hungary\", \"Ireland\", \"Italy\", \"Latvia\", \"Lithuania\", \"Luxembourg\", \"Malta\", \"Netherlands\", \"Poland\", \"Portugal\", \"Romania\", \"Slovakia\", \"Slovenia\", \"Spain\", \"Sweden\", \"United Kingdom\"])","        .range([\"Red\", \"#15EE68\", \"red\", \"Grey\", \"Brown\", \"Purple\", \"Orange\", \"Coffee\", \"Coral\", \"Emerald\", \"Gold\", \"Black\", \"Lemon\", \"Green\", \"Blue\", \"Violet\", \"#4B15EE\", \"Crimson\", \"Jade\", \"Indigo\", \"Lime\", \"Magenta\", \"Olive\", \"Pear\", \"Peach\", \"Plum\", \"Ruby\", \"Salmon\"]);","","","    dc.barChart(\"#eu-pollution-chart\")","        .width(500)","        .height(550)","        .margins({ top: 20, right: 40, bottom: 40, left: 40 })","        .dimension(country_dim)","        .group(total_emissions)","        .transitionDuration(500)","        .x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)","        .colors(countryColors)","        .colorAccessor(function(d) {","            return d.key[0];","        })","        /*.xAxisLabel(\"Countries\")*/","        .yAxisLabel(\"Co2 Emission Level (million tonnes)\")","        .yAxis().ticks(7);","","","}","","","function show_death_v_gdp_correlation(ndx) {","","    var nationColors = d3.scale.ordinal()","        .domain([\"Austria\", \"Belgium\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Germany\", \"Greece\", \"Hungary\", \"Ireland\", \"Italy\", \"Latvia\", \"Lithuania\", \"Luxembourg\", \"Malta\", \"Netherlands\", \"Poland\", \"Portugal\", \"Romania\", \"Slovakia\", \"Slovenia\", \"Spain\", \"Sweden\", \"United Kingdom\"])","        .range([\"Red\", \"Yellow\", \"Pink\", \"Grey\", \"Brown\", \"Purple\", \"Orange\", \"Coffee\", \"Coral\", \"Emerald\", \"Gold\", \"Black\", \"Lemon\", \"Green\", \"Blue\", \"Violet\", \"Cyan\", \"Crimson\", \"Jade\", \"Indigo\", \"Lime\", \"Magenta\", \"Olive\", \"Pear\", \"Peach\", \"Plum\", \"Ruby\", \"Salmon\"]);","","    var gdpDim = ndx.dimension(dc.pluck(\"GDP\")) /* on x axis*/","    var deathCoDim = ndx.dimension(function(d) {","        return [d.GDP, d.DeathsPer, d.Country] /*first part on x axis*/","    });","    var gdpAndDeathGroup = deathCoDim.group();","","    var minGdpDeathRate = gdpDim.bottom(1)[0].GDP;","    var maxGdpDeathRate = gdpDim.top(1)[0].GDP;","","","    dc.scatterPlot(\"#death-v-gdp-plot\")","        .width(650)","        .height(400)","       /* height(window.innerHeight - 300)","        .width(window.innerWidth - 65 % window)*/","        .x(d3.scale.linear().domain([minGdpDeathRate, maxGdpDeathRate])) /* as gdp is numerical i.e. 10 is more than 9 */","        .brushOn(false)","        .symbolSize(6)","        .clipPadding(10)","        .xAxisLabel(\"GDP (€)\")","        .yAxisLabel(\"Deaths\")","        .title(function(d) {","            return \"The average death rate due to air pollution is \" + d.key[1] + \" per 100,000 in \" + d.key[2];","        })","        .colorAccessor(function(d) {","            return d.key[2];","        })","        .colors(nationColors)","        .dimension(deathCoDim)","        .group(gdpAndDeathGroup)","        .margins({ top: 10, right: 50, bottom: 75, left: 75 })","        .xAxis().ticks(5);","","","}","","","function show_country_emission_pie(ndx) {","    var area_dim = ndx.dimension(dc.pluck('Country'));","    var total_emissions_pie = area_dim.group().reduceSum(dc.pluck('EmissionsC'));","","    dc.pieChart(\"#country-pie-chart\")","        .width(450)","        .height(500)","        .innerRadius(50)","        .externalRadiusPadding(45)","        .transitionDuration(1500)","        .dimension(area_dim)","        .group(total_emissions_pie)","        .externalLabels(20)","        .drawPaths(true)","        .minAngleForLabel(0)","        .cap(5)","        .legend(","      dc","        .legend()","        .x(395)","        .y(20)","        .horizontal(false)","        .itemHeight(5)","        .gap(5)","    );","       /* .legend(dc.legend().x(270).y(0).itemHeight(8).gap(5));*/","}","","","function show_yearly_plastic_waste_pie(ndx) {","        var area_dim = ndx.dimension(dc.pluck('Country'));","    var yearly_plastic_pie = area_dim.group().reduceSum(dc.pluck('PlasticWasteYearly'));","","    dc.pieChart(\"#yearly-plastic-pie\")","        .width(425)","        .height(450)","        .innerRadius(40)","        .externalRadiusPadding(45)","        .transitionDuration(1500)","        .dimension(area_dim)","        .group(yearly_plastic_pie)","        .externalLabels(20)","        .drawPaths(true)","        .minAngleForLabel(0)","        .cap(9)","        .legend(","      dc","        .legend()","        .x(365)","        .y(15)","        .horizontal(false)","        .itemHeight(5)","        .gap(5)","    );","}","","","    function show_plastic_waste_dim(ndx) {","        ","        var plastic_dimension = ndx.dimension(function (d) {","            if (d.PlasticWasteYearly > 50)","                return \"+ 50kgs per person\";","            else","                return \"- 50kgs per person\"","        });","        ","        var plastic_group = plastic_dimension.group();","        ","        ","        dc.pieChart('#yearly-plastic-dim')","            .height(380)","            .width(350)","            .radius(110)","            .dimension(plastic_dimension)","            .group(plastic_group);","    ","    }","    ","    function show_waste_gdp_line(ndx) {","        ","       /*  var parseGDP = d3.format(toFixed(4)).parse;","        euData.forEach(function(d){","            d.GDP = parseGDP(d.GDP);","        }); */","        ","        var gdp_dim = ndx.dimension(dc.pluck('GDP'));","        var total_plastic_v_gdp = gdp_dim.group().reduceSum(dc.pluck('PlasticWasteYearly'));","        var minGDP = gdp_dim.bottom(1)[0].GDP;","        var maxGDP = gdp_dim.top(1)[0].GDP;","","        dc.lineChart(\"#waste-gdp-line\")","            .width(600)","            .height(300)","            .margins({top: 10, right: 50, bottom: 30, left: 50})","            .dimension(gdp_dim)","            .group(total_plastic_v_gdp)","            .transitionDuration(500)","            .x(d3.time.scale().domain([minGDP,maxGDP]))","            .xAxisLabel(\"GDP\")","            .yAxisLabel(\"Yearly Plastic Generation per Capita (kg)\")","            .yAxis().ticks(5);","    }"]}],[{"start":{"row":262,"column":12},"end":{"row":262,"column":55},"action":"remove","lines":[".x(d3.time.scale().domain([minGDP,maxGDP]))"],"id":8},{"start":{"row":262,"column":12},"end":{"row":262,"column":76},"action":"insert","lines":[".x(d3.scale.linear().domain([minGdpDeathRate, maxGdpDeathRate]))"]}],[{"start":{"row":262,"column":58},"end":{"row":262,"column":73},"action":"remove","lines":["maxGdpDeathRate"],"id":9},{"start":{"row":262,"column":58},"end":{"row":262,"column":64},"action":"insert","lines":["maxGDP"]}],[{"start":{"row":262,"column":41},"end":{"row":262,"column":56},"action":"remove","lines":["minGdpDeathRate"],"id":10},{"start":{"row":262,"column":41},"end":{"row":262,"column":47},"action":"insert","lines":["maxGDP"]}],[{"start":{"row":245,"column":6},"end":{"row":248,"column":14},"action":"remove","lines":[" /*  var parseGDP = d3.format(toFixed(4)).parse;","        euData.forEach(function(d){","            d.GDP = parseGDP(d.GDP);","        }); */"],"id":11},{"start":{"row":245,"column":5},"end":{"row":245,"column":6},"action":"remove","lines":[" "]},{"start":{"row":245,"column":4},"end":{"row":245,"column":5},"action":"remove","lines":[" "]},{"start":{"row":245,"column":0},"end":{"row":245,"column":4},"action":"remove","lines":["    "]},{"start":{"row":244,"column":8},"end":{"row":245,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":258,"column":11},"end":{"row":258,"column":13},"action":"insert","lines":["*/"],"id":12},{"start":{"row":258,"column":11},"end":{"row":258,"column":13},"action":"insert","lines":["/*"]}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":15},"action":"remove","lines":["*/"],"id":13}],[{"start":{"row":258,"column":60},"end":{"row":258,"column":61},"action":"insert","lines":[" "],"id":14}],[{"start":{"row":258,"column":61},"end":{"row":258,"column":63},"action":"insert","lines":["*/"],"id":15}],[{"start":{"row":257,"column":36},"end":{"row":258,"column":0},"action":"insert","lines":["",""],"id":16},{"start":{"row":258,"column":0},"end":{"row":258,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":258,"column":12},"end":{"row":259,"column":33},"action":"insert","lines":[".x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)"],"id":17}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":2},"action":"remove","lines":["  "],"id":18},{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""]},{"start":{"row":10,"column":1},"end":{"row":11,"column":0},"action":"remove","lines":[" ",""]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"remove","lines":["    "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"remove","lines":["    "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"remove","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"remove","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":1},"action":"insert","lines":[" "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["    "]},{"start":{"row":28,"column":39},"end":{"row":28,"column":40},"action":"remove","lines":[" "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["    "]},{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"remove","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":43,"column":0},"end":{"row":43,"column":8},"action":"insert","lines":["        "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":48,"column":0},"end":{"row":48,"column":8},"action":"insert","lines":["        "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":49,"column":0},"end":{"row":49,"column":8},"action":"insert","lines":["        "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":3},"action":"remove","lines":["\t\t\t"]},{"start":{"row":50,"column":0},"end":{"row":50,"column":12},"action":"insert","lines":["            "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":51,"column":0},"end":{"row":51,"column":8},"action":"insert","lines":["        "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"insert","lines":["    "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":56,"column":0},"end":{"row":56,"column":8},"action":"insert","lines":["        "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"insert","lines":["    "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"insert","lines":["    "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":61,"column":0},"end":{"row":61,"column":8},"action":"insert","lines":["        "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":62,"column":0},"end":{"row":62,"column":8},"action":"insert","lines":["        "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":3},"action":"remove","lines":["\t\t\t"]},{"start":{"row":63,"column":0},"end":{"row":63,"column":12},"action":"insert","lines":["            "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":64,"column":0},"end":{"row":64,"column":8},"action":"insert","lines":["        "]},{"start":{"row":141,"column":7},"end":{"row":141,"column":8},"action":"insert","lines":[" "]},{"start":{"row":142,"column":0},"end":{"row":142,"column":1},"action":"insert","lines":[" "]},{"start":{"row":182,"column":6},"end":{"row":182,"column":12},"action":"insert","lines":["      "]},{"start":{"row":183,"column":0},"end":{"row":183,"column":4},"action":"insert","lines":["    "]},{"start":{"row":184,"column":0},"end":{"row":184,"column":1},"action":"insert","lines":[" "]},{"start":{"row":184,"column":9},"end":{"row":184,"column":12},"action":"insert","lines":["   "]},{"start":{"row":185,"column":0},"end":{"row":185,"column":2},"action":"insert","lines":["  "]},{"start":{"row":185,"column":10},"end":{"row":185,"column":12},"action":"insert","lines":["  "]},{"start":{"row":186,"column":0},"end":{"row":186,"column":3},"action":"insert","lines":["   "]},{"start":{"row":186,"column":11},"end":{"row":186,"column":12},"action":"insert","lines":[" "]},{"start":{"row":187,"column":8},"end":{"row":187,"column":12},"action":"insert","lines":["    "]},{"start":{"row":188,"column":0},"end":{"row":188,"column":3},"action":"insert","lines":["   "]},{"start":{"row":188,"column":11},"end":{"row":188,"column":12},"action":"insert","lines":[" "]},{"start":{"row":189,"column":4},"end":{"row":189,"column":8},"action":"insert","lines":["    "]},{"start":{"row":190,"column":0},"end":{"row":190,"column":3},"action":"remove","lines":["   "]},{"start":{"row":195,"column":0},"end":{"row":195,"column":4},"action":"remove","lines":["    "]},{"start":{"row":211,"column":6},"end":{"row":211,"column":12},"action":"insert","lines":["      "]},{"start":{"row":212,"column":0},"end":{"row":212,"column":4},"action":"insert","lines":["    "]},{"start":{"row":213,"column":8},"end":{"row":213,"column":12},"action":"insert","lines":["    "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":1},"action":"insert","lines":[" "]},{"start":{"row":214,"column":9},"end":{"row":214,"column":12},"action":"insert","lines":["   "]},{"start":{"row":215,"column":0},"end":{"row":215,"column":4},"action":"insert","lines":["    "]},{"start":{"row":216,"column":8},"end":{"row":216,"column":12},"action":"insert","lines":["    "]},{"start":{"row":217,"column":0},"end":{"row":217,"column":3},"action":"insert","lines":["   "]},{"start":{"row":217,"column":11},"end":{"row":217,"column":12},"action":"insert","lines":[" "]},{"start":{"row":218,"column":4},"end":{"row":218,"column":8},"action":"insert","lines":["    "]},{"start":{"row":222,"column":0},"end":{"row":222,"column":4},"action":"remove","lines":["    "]},{"start":{"row":223,"column":0},"end":{"row":223,"column":8},"action":"remove","lines":["        "]},{"start":{"row":224,"column":0},"end":{"row":224,"column":4},"action":"remove","lines":["    "]},{"start":{"row":224,"column":50},"end":{"row":224,"column":51},"action":"remove","lines":[" "]},{"start":{"row":225,"column":0},"end":{"row":225,"column":4},"action":"remove","lines":["    "]},{"start":{"row":226,"column":0},"end":{"row":226,"column":2},"action":"remove","lines":["  "]},{"start":{"row":226,"column":12},"end":{"row":226,"column":14},"action":"remove","lines":["  "]},{"start":{"row":227,"column":8},"end":{"row":227,"column":12},"action":"remove","lines":["    "]},{"start":{"row":228,"column":0},"end":{"row":228,"column":1},"action":"remove","lines":[" "]},{"start":{"row":228,"column":12},"end":{"row":228,"column":15},"action":"remove","lines":["   "]},{"start":{"row":229,"column":0},"end":{"row":229,"column":4},"action":"remove","lines":["    "]},{"start":{"row":230,"column":0},"end":{"row":230,"column":8},"action":"remove","lines":["        "]},{"start":{"row":231,"column":0},"end":{"row":231,"column":4},"action":"remove","lines":["    "]},{"start":{"row":232,"column":0},"end":{"row":232,"column":8},"action":"remove","lines":["        "]},{"start":{"row":233,"column":0},"end":{"row":233,"column":8},"action":"remove","lines":["        "]},{"start":{"row":234,"column":4},"end":{"row":234,"column":8},"action":"remove","lines":["    "]},{"start":{"row":235,"column":0},"end":{"row":235,"column":3},"action":"remove","lines":["   "]},{"start":{"row":235,"column":8},"end":{"row":235,"column":9},"action":"remove","lines":[" "]},{"start":{"row":236,"column":8},"end":{"row":236,"column":12},"action":"remove","lines":["    "]},{"start":{"row":237,"column":0},"end":{"row":237,"column":2},"action":"remove","lines":["  "]},{"start":{"row":237,"column":8},"end":{"row":237,"column":10},"action":"remove","lines":["  "]},{"start":{"row":238,"column":0},"end":{"row":238,"column":4},"action":"remove","lines":["    "]},{"start":{"row":239,"column":0},"end":{"row":239,"column":1},"action":"remove","lines":[" "]},{"start":{"row":239,"column":8},"end":{"row":239,"column":11},"action":"remove","lines":["   "]},{"start":{"row":240,"column":0},"end":{"row":240,"column":4},"action":"remove","lines":["    "]},{"start":{"row":241,"column":0},"end":{"row":241,"column":4},"action":"remove","lines":["    "]},{"start":{"row":242,"column":0},"end":{"row":242,"column":4},"action":"remove","lines":["    "]},{"start":{"row":243,"column":0},"end":{"row":243,"column":4},"action":"remove","lines":["    "]},{"start":{"row":244,"column":0},"end":{"row":244,"column":8},"action":"remove","lines":["        "]},{"start":{"row":245,"column":0},"end":{"row":245,"column":8},"action":"remove","lines":["        "]},{"start":{"row":246,"column":4},"end":{"row":246,"column":8},"action":"remove","lines":["    "]},{"start":{"row":247,"column":0},"end":{"row":247,"column":3},"action":"remove","lines":["   "]},{"start":{"row":247,"column":4},"end":{"row":247,"column":5},"action":"remove","lines":[" "]},{"start":{"row":248,"column":4},"end":{"row":248,"column":8},"action":"remove","lines":["    "]},{"start":{"row":249,"column":0},"end":{"row":249,"column":2},"action":"remove","lines":["  "]},{"start":{"row":249,"column":4},"end":{"row":249,"column":6},"action":"remove","lines":["  "]},{"start":{"row":251,"column":4},"end":{"row":251,"column":8},"action":"remove","lines":["    "]},{"start":{"row":252,"column":0},"end":{"row":252,"column":1},"action":"remove","lines":[" "]},{"start":{"row":252,"column":8},"end":{"row":252,"column":11},"action":"remove","lines":["   "]},{"start":{"row":253,"column":0},"end":{"row":253,"column":4},"action":"remove","lines":["    "]},{"start":{"row":254,"column":8},"end":{"row":254,"column":12},"action":"remove","lines":["    "]},{"start":{"row":254,"column":18},"end":{"row":254,"column":19},"action":"insert","lines":[" "]},{"start":{"row":254,"column":59},"end":{"row":254,"column":60},"action":"insert","lines":[" "]},{"start":{"row":255,"column":0},"end":{"row":255,"column":1},"action":"remove","lines":[" "]},{"start":{"row":255,"column":8},"end":{"row":255,"column":11},"action":"remove","lines":["   "]},{"start":{"row":256,"column":0},"end":{"row":256,"column":4},"action":"remove","lines":["    "]},{"start":{"row":257,"column":8},"end":{"row":257,"column":12},"action":"remove","lines":["    "]},{"start":{"row":258,"column":0},"end":{"row":258,"column":3},"action":"remove","lines":["   "]},{"start":{"row":258,"column":8},"end":{"row":258,"column":9},"action":"remove","lines":[" "]},{"start":{"row":260,"column":8},"end":{"row":260,"column":11},"action":"remove","lines":["   "]},{"start":{"row":261,"column":0},"end":{"row":261,"column":3},"action":"remove","lines":["   "]},{"start":{"row":261,"column":8},"end":{"row":261,"column":9},"action":"remove","lines":[" "]},{"start":{"row":262,"column":0},"end":{"row":262,"column":4},"action":"remove","lines":["    "]},{"start":{"row":263,"column":8},"end":{"row":263,"column":12},"action":"remove","lines":["    "]},{"start":{"row":264,"column":0},"end":{"row":264,"column":4},"action":"remove","lines":["    "]},{"start":{"row":264,"column":1},"end":{"row":265,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":258,"column":20},"end":{"row":258,"column":27},"action":"remove","lines":["ordinal"],"id":19},{"start":{"row":258,"column":20},"end":{"row":258,"column":21},"action":"insert","lines":["l"]},{"start":{"row":258,"column":21},"end":{"row":258,"column":22},"action":"insert","lines":["i"]},{"start":{"row":258,"column":22},"end":{"row":258,"column":23},"action":"insert","lines":["n"]}],[{"start":{"row":258,"column":20},"end":{"row":258,"column":23},"action":"remove","lines":["lin"],"id":20},{"start":{"row":258,"column":20},"end":{"row":258,"column":26},"action":"insert","lines":["linear"]}],[{"start":{"row":258,"column":28},"end":{"row":258,"column":53},"action":"insert","lines":[".domain([maxGDP, maxGDP])"],"id":21}],[{"start":{"row":259,"column":25},"end":{"row":259,"column":32},"action":"remove","lines":["ordinal"],"id":22},{"start":{"row":259,"column":25},"end":{"row":259,"column":26},"action":"insert","lines":["l"]},{"start":{"row":259,"column":26},"end":{"row":259,"column":27},"action":"insert","lines":["i"]},{"start":{"row":259,"column":27},"end":{"row":259,"column":28},"action":"insert","lines":["n"]},{"start":{"row":259,"column":28},"end":{"row":259,"column":29},"action":"insert","lines":["e"]},{"start":{"row":259,"column":29},"end":{"row":259,"column":30},"action":"insert","lines":["a"]},{"start":{"row":259,"column":30},"end":{"row":259,"column":31},"action":"insert","lines":["r"]}],[{"start":{"row":259,"column":8},"end":{"row":259,"column":32},"action":"remove","lines":[".xUnits(dc.units.linear)"],"id":24},{"start":{"row":259,"column":4},"end":{"row":259,"column":8},"action":"remove","lines":["    "]},{"start":{"row":259,"column":0},"end":{"row":259,"column":4},"action":"remove","lines":["    "]},{"start":{"row":258,"column":54},"end":{"row":259,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":249,"column":11},"end":{"row":249,"column":12},"action":"insert","lines":["P"],"id":25},{"start":{"row":249,"column":12},"end":{"row":249,"column":13},"action":"insert","lines":["l"]},{"start":{"row":249,"column":13},"end":{"row":249,"column":14},"action":"insert","lines":["a"]},{"start":{"row":249,"column":14},"end":{"row":249,"column":15},"action":"insert","lines":["s"]},{"start":{"row":249,"column":15},"end":{"row":249,"column":16},"action":"insert","lines":["t"]},{"start":{"row":249,"column":16},"end":{"row":249,"column":17},"action":"insert","lines":["i"]},{"start":{"row":249,"column":17},"end":{"row":249,"column":18},"action":"insert","lines":["c"]}],[{"start":{"row":248,"column":11},"end":{"row":248,"column":12},"action":"insert","lines":["P"],"id":26},{"start":{"row":248,"column":12},"end":{"row":248,"column":13},"action":"insert","lines":["l"]},{"start":{"row":248,"column":13},"end":{"row":248,"column":14},"action":"insert","lines":["a"]},{"start":{"row":248,"column":14},"end":{"row":248,"column":15},"action":"insert","lines":["s"]},{"start":{"row":248,"column":15},"end":{"row":248,"column":16},"action":"insert","lines":["t"]},{"start":{"row":248,"column":16},"end":{"row":248,"column":17},"action":"insert","lines":["i"]},{"start":{"row":248,"column":17},"end":{"row":248,"column":18},"action":"insert","lines":["c"]}],[{"start":{"row":258,"column":37},"end":{"row":258,"column":43},"action":"remove","lines":["maxGDP"],"id":27},{"start":{"row":258,"column":37},"end":{"row":258,"column":50},"action":"insert","lines":["minPlasticGDP"]}],[{"start":{"row":258,"column":52},"end":{"row":258,"column":58},"action":"remove","lines":["maxGDP"],"id":28},{"start":{"row":258,"column":52},"end":{"row":258,"column":65},"action":"insert","lines":["minPlasticGDP"]}],[{"start":{"row":258,"column":52},"end":{"row":258,"column":55},"action":"remove","lines":["min"],"id":29},{"start":{"row":258,"column":52},"end":{"row":258,"column":53},"action":"insert","lines":["m"]},{"start":{"row":258,"column":53},"end":{"row":258,"column":54},"action":"insert","lines":["a"]},{"start":{"row":258,"column":54},"end":{"row":258,"column":55},"action":"insert","lines":["x"]}],[{"start":{"row":259,"column":8},"end":{"row":259,"column":60},"action":"remove","lines":["/* .x(d3.scale.linear().domain([maxGDP, maxGDP])) */"],"id":30},{"start":{"row":259,"column":4},"end":{"row":259,"column":8},"action":"remove","lines":["    "]},{"start":{"row":259,"column":0},"end":{"row":259,"column":4},"action":"remove","lines":["    "]},{"start":{"row":258,"column":68},"end":{"row":259,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":258,"column":68},"end":{"row":259,"column":0},"action":"insert","lines":["",""],"id":31},{"start":{"row":259,"column":0},"end":{"row":259,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":259,"column":8},"end":{"row":260,"column":20},"action":"insert","lines":[".elasticY(false)","    .elasticX(false)"],"id":32}],[{"start":{"row":260,"column":4},"end":{"row":260,"column":8},"action":"insert","lines":["    "],"id":33}],[{"start":{"row":139,"column":16},"end":{"row":139,"column":17},"action":"remove","lines":["5"],"id":34},{"start":{"row":139,"column":16},"end":{"row":139,"column":17},"action":"insert","lines":["0"]}],[{"start":{"row":158,"column":47},"end":{"row":158,"column":48},"action":"remove","lines":["7"],"id":35},{"start":{"row":158,"column":47},"end":{"row":158,"column":48},"action":"insert","lines":["5"]}],[{"start":{"row":158,"column":48},"end":{"row":158,"column":49},"action":"remove","lines":["5"],"id":36}],[{"start":{"row":158,"column":48},"end":{"row":158,"column":49},"action":"insert","lines":["0"],"id":37}],[{"start":{"row":158,"column":57},"end":{"row":158,"column":59},"action":"remove","lines":["75"],"id":38},{"start":{"row":158,"column":57},"end":{"row":158,"column":58},"action":"insert","lines":["5"]},{"start":{"row":158,"column":58},"end":{"row":158,"column":59},"action":"insert","lines":["0"]}],[{"start":{"row":254,"column":47},"end":{"row":254,"column":48},"action":"remove","lines":["3"],"id":39},{"start":{"row":254,"column":47},"end":{"row":254,"column":48},"action":"insert","lines":["4"]}],[{"start":{"row":261,"column":24},"end":{"row":261,"column":25},"action":"insert","lines":[" "],"id":40}],[{"start":{"row":261,"column":25},"end":{"row":261,"column":29},"action":"insert","lines":[" (€)"],"id":41}],[{"start":{"row":200,"column":16},"end":{"row":200,"column":18},"action":"remove","lines":["45"],"id":42},{"start":{"row":200,"column":16},"end":{"row":200,"column":17},"action":"insert","lines":["5"]},{"start":{"row":200,"column":17},"end":{"row":200,"column":18},"action":"insert","lines":["0"]},{"start":{"row":200,"column":18},"end":{"row":200,"column":19},"action":"insert","lines":["0"]}],[{"start":{"row":200,"column":18},"end":{"row":200,"column":19},"action":"remove","lines":["0"],"id":43}],[{"start":{"row":57,"column":7},"end":{"row":58,"column":0},"action":"insert","lines":["",""],"id":51},{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"remove","lines":["    "],"id":52},{"start":{"row":57,"column":7},"end":{"row":58,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":58,"column":63},"end":{"row":59,"column":0},"action":"insert","lines":["",""],"id":53},{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"insert","lines":["    "]},{"start":{"row":59,"column":4},"end":{"row":59,"column":5},"action":"insert","lines":["V"]},{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"insert","lines":["A"]},{"start":{"row":59,"column":6},"end":{"row":59,"column":7},"action":"insert","lines":["R"]}],[{"start":{"row":59,"column":6},"end":{"row":59,"column":7},"action":"remove","lines":["R"],"id":54},{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"remove","lines":["A"]},{"start":{"row":59,"column":4},"end":{"row":59,"column":5},"action":"remove","lines":["V"]}],[{"start":{"row":59,"column":4},"end":{"row":59,"column":5},"action":"insert","lines":["v"],"id":55},{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"insert","lines":["a"]},{"start":{"row":59,"column":6},"end":{"row":59,"column":7},"action":"insert","lines":["r"]}],[{"start":{"row":59,"column":7},"end":{"row":59,"column":8},"action":"insert","lines":[" "],"id":56}],[{"start":{"row":59,"column":8},"end":{"row":59,"column":9},"action":"insert","lines":["n"],"id":57},{"start":{"row":59,"column":9},"end":{"row":59,"column":10},"action":"insert","lines":["u"]},{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"insert","lines":["m"]},{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":["F"]},{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"insert","lines":["o"]},{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"insert","lines":["r"]},{"start":{"row":59,"column":14},"end":{"row":59,"column":15},"action":"insert","lines":["m"]}],[{"start":{"row":59,"column":15},"end":{"row":59,"column":16},"action":"insert","lines":["a"],"id":58},{"start":{"row":59,"column":16},"end":{"row":59,"column":17},"action":"insert","lines":["t"]}],[{"start":{"row":59,"column":17},"end":{"row":59,"column":18},"action":"insert","lines":[" "],"id":59},{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"insert","lines":["="]}],[{"start":{"row":59,"column":19},"end":{"row":59,"column":20},"action":"insert","lines":[" "],"id":60}],[{"start":{"row":59,"column":20},"end":{"row":59,"column":49},"action":"insert","lines":["var format = d3.format(\"$,\");"],"id":61}],[{"start":{"row":59,"column":20},"end":{"row":59,"column":33},"action":"remove","lines":["var format = "],"id":62}],[{"start":{"row":59,"column":31},"end":{"row":59,"column":33},"action":"remove","lines":["$,"],"id":63},{"start":{"row":59,"column":31},"end":{"row":59,"column":35},"action":"insert","lines":[",.2r"]}],[{"start":{"row":61,"column":17},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":64},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["."]}],[{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"remove","lines":["."],"id":65}],[{"start":{"row":62,"column":4},"end":{"row":62,"column":8},"action":"insert","lines":["    "],"id":66}],[{"start":{"row":62,"column":8},"end":{"row":62,"column":39},"action":"insert","lines":[".formatNumber(d3.format(\".0%\"))"],"id":67}],[{"start":{"row":62,"column":22},"end":{"row":62,"column":38},"action":"remove","lines":["d3.format(\".0%\")"],"id":68},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["n"]},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["u"]},{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"insert","lines":["m"]}],[{"start":{"row":62,"column":22},"end":{"row":62,"column":25},"action":"remove","lines":["num"],"id":69},{"start":{"row":62,"column":22},"end":{"row":62,"column":31},"action":"insert","lines":["numFormat"]}],[{"start":{"row":62,"column":32},"end":{"row":63,"column":0},"action":"insert","lines":["",""],"id":70},{"start":{"row":63,"column":0},"end":{"row":63,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":63,"column":8},"end":{"row":64,"column":0},"action":"insert","lines":["        .margins({ top: 20, right: 40, bottom: 40, left: 40 })",""],"id":72}],[{"start":{"row":63,"column":8},"end":{"row":63,"column":16},"action":"remove","lines":["        "],"id":73}],[{"start":{"row":63,"column":62},"end":{"row":64,"column":0},"action":"remove","lines":["",""],"id":74}],[{"start":{"row":63,"column":0},"end":{"row":63,"column":62},"action":"remove","lines":["        .margins({ top: 20, right: 40, bottom: 40, left: 40 })"],"id":75},{"start":{"row":62,"column":32},"end":{"row":63,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":198,"column":88},"end":{"row":199,"column":0},"action":"insert","lines":["",""],"id":76},{"start":{"row":199,"column":0},"end":{"row":199,"column":4},"action":"insert","lines":["    "]},{"start":{"row":199,"column":4},"end":{"row":200,"column":0},"action":"insert","lines":["",""]},{"start":{"row":200,"column":0},"end":{"row":200,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":200,"column":4},"end":{"row":203,"column":32},"action":"insert","lines":[" var numFormat = d3.format(\",.2r\");","","    totalEmissNum","        .formatNumber(numFormat)"],"id":77}],[{"start":{"row":199,"column":0},"end":{"row":199,"column":4},"action":"remove","lines":["    "],"id":81},{"start":{"row":198,"column":88},"end":{"row":199,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":199,"column":4},"end":{"row":199,"column":5},"action":"remove","lines":[" "],"id":82}],[{"start":{"row":199,"column":8},"end":{"row":199,"column":9},"action":"insert","lines":["p"],"id":83},{"start":{"row":199,"column":9},"end":{"row":199,"column":10},"action":"insert","lines":["i"]},{"start":{"row":199,"column":10},"end":{"row":199,"column":11},"action":"insert","lines":["e"]}],[{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"remove","lines":["n"],"id":84}],[{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"insert","lines":["N"],"id":85}],[{"start":{"row":201,"column":3},"end":{"row":201,"column":17},"action":"remove","lines":[" totalEmissNum"],"id":86},{"start":{"row":201,"column":2},"end":{"row":201,"column":3},"action":"remove","lines":[" "]},{"start":{"row":201,"column":1},"end":{"row":201,"column":2},"action":"remove","lines":[" "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":1},"action":"remove","lines":[" "]},{"start":{"row":200,"column":0},"end":{"row":201,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":201,"column":8},"end":{"row":201,"column":32},"action":"remove","lines":[".formatNumber(numFormat)"],"id":87}],[{"start":{"row":205,"column":20},"end":{"row":206,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":206,"column":0},"end":{"row":206,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":206,"column":8},"end":{"row":206,"column":32},"action":"insert","lines":[".formatNumber(numFormat)"],"id":89}],[{"start":{"row":206,"column":22},"end":{"row":206,"column":25},"action":"remove","lines":["num"],"id":90},{"start":{"row":206,"column":22},"end":{"row":206,"column":23},"action":"insert","lines":["p"]},{"start":{"row":206,"column":23},"end":{"row":206,"column":24},"action":"insert","lines":["i"]},{"start":{"row":206,"column":24},"end":{"row":206,"column":25},"action":"insert","lines":["e"]}],[{"start":{"row":206,"column":22},"end":{"row":206,"column":31},"action":"remove","lines":["pieFormat"],"id":91},{"start":{"row":206,"column":22},"end":{"row":206,"column":34},"action":"insert","lines":["pieNumFormat"]}],[{"start":{"row":199,"column":34},"end":{"row":199,"column":38},"action":"remove","lines":[",.2r"],"id":92},{"start":{"row":199,"column":34},"end":{"row":199,"column":37},"action":"insert","lines":[".0%"]}],[{"start":{"row":199,"column":4},"end":{"row":199,"column":6},"action":"insert","lines":["*/"],"id":93},{"start":{"row":199,"column":4},"end":{"row":199,"column":6},"action":"insert","lines":["/*"]}],[{"start":{"row":199,"column":6},"end":{"row":199,"column":8},"action":"remove","lines":["*/"],"id":94}],[{"start":{"row":199,"column":42},"end":{"row":199,"column":44},"action":"insert","lines":["*/"],"id":95}],[{"start":{"row":206,"column":6},"end":{"row":206,"column":8},"action":"insert","lines":["*/"],"id":96},{"start":{"row":206,"column":6},"end":{"row":206,"column":8},"action":"insert","lines":["/*"]}],[{"start":{"row":206,"column":8},"end":{"row":206,"column":10},"action":"remove","lines":["*/"],"id":97}],[{"start":{"row":206,"column":37},"end":{"row":206,"column":38},"action":"insert","lines":[" "],"id":98}],[{"start":{"row":206,"column":38},"end":{"row":206,"column":40},"action":"insert","lines":["*/"],"id":99}],[{"start":{"row":271,"column":0},"end":{"row":272,"column":0},"action":"insert","lines":["",""],"id":100},{"start":{"row":272,"column":0},"end":{"row":273,"column":0},"action":"insert","lines":["",""]},{"start":{"row":273,"column":0},"end":{"row":274,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":274,"column":0},"end":{"row":323,"column":3},"action":"insert","lines":["function rankByGender (dimension, rank) {","        return dimension.group().reduce(","            function (p, v) {","                p.total++;","                if(v.rank == rank) {","                    p.match++;","                }","                return p;","            },","            function (p, v) {","                p.total--;","                if(v.rank == rank) {","                    p.match--;","                }","                return p;","            },","            function () {","                return {total: 0, match: 0};","            }","        );","    }","","    var  dim = ndx.dimension(dc.pluck('sex'));","    var profByGender = rankByGender(dim, \"Prof\");","    var asstProfByGender = rankByGender(dim, \"AsstProf\");","    var assocProfByGender = rankByGender(dim, \"AssocProf\");","    ","    //  console.log(profByGender.all());","    ","    dc.barChart(\"#rank-distribution\")","        .width(350)","        .height(250)","        .dimension(dim)","        .group(profByGender, \"Prof\")","        .stack(asstProfByGender, \"Asst Prof\")","        .stack(assocProfByGender, \"Assoc Prof\")","        .valueAccessor(function(d) {","            if(d.value.total > 0) {","                return (d.value.match / d.value.total) * 100; // to get % of match ","            } else {","                return 0;","            }","        })","        .x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)","        .xAxisLabel(\"Gender\")","        .legend(dc.legend().x(320).y(20).itemHeight(15).gap(5))","        .margins({top: 10, right: 100, bottom: 30, left: 30});","    ","   "],"id":101}],[{"start":{"row":296,"column":39},"end":{"row":296,"column":42},"action":"remove","lines":["sex"],"id":102},{"start":{"row":296,"column":39},"end":{"row":296,"column":40},"action":"insert","lines":["C"]},{"start":{"row":296,"column":40},"end":{"row":296,"column":41},"action":"insert","lines":["o"]},{"start":{"row":296,"column":41},"end":{"row":296,"column":42},"action":"insert","lines":["u"]},{"start":{"row":296,"column":42},"end":{"row":296,"column":43},"action":"insert","lines":["n"]},{"start":{"row":296,"column":43},"end":{"row":296,"column":44},"action":"insert","lines":["t"]},{"start":{"row":296,"column":44},"end":{"row":296,"column":45},"action":"insert","lines":["r"]},{"start":{"row":296,"column":45},"end":{"row":296,"column":46},"action":"insert","lines":["y"]}],[{"start":{"row":294,"column":5},"end":{"row":295,"column":0},"action":"insert","lines":["",""],"id":103},{"start":{"row":295,"column":0},"end":{"row":295,"column":4},"action":"insert","lines":["    "]},{"start":{"row":295,"column":4},"end":{"row":296,"column":0},"action":"insert","lines":["",""]},{"start":{"row":296,"column":0},"end":{"row":296,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":296,"column":4},"end":{"row":296,"column":42},"action":"insert","lines":["function show_rank_distribution(ndx) {"],"id":104}],[{"start":{"row":296,"column":42},"end":{"row":297,"column":0},"action":"insert","lines":["",""],"id":105},{"start":{"row":297,"column":0},"end":{"row":297,"column":8},"action":"insert","lines":["        "]},{"start":{"row":297,"column":8},"end":{"row":298,"column":0},"action":"insert","lines":["",""]},{"start":{"row":298,"column":0},"end":{"row":298,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":296,"column":4},"end":{"row":296,"column":42},"action":"remove","lines":["function show_rank_distribution(ndx) {"],"id":108}],[{"start":{"row":272,"column":0},"end":{"row":272,"column":38},"action":"insert","lines":["function show_rank_distribution(ndx) {"],"id":109}],[{"start":{"row":327,"column":3},"end":{"row":327,"column":4},"action":"insert","lines":["}"],"id":110},{"start":{"row":327,"column":0},"end":{"row":327,"column":3},"action":"remove","lines":["   "]}],[{"start":{"row":272,"column":38},"end":{"row":273,"column":0},"action":"insert","lines":["",""],"id":111},{"start":{"row":273,"column":0},"end":{"row":273,"column":4},"action":"insert","lines":["    "]},{"start":{"row":273,"column":4},"end":{"row":274,"column":0},"action":"insert","lines":["",""]},{"start":{"row":274,"column":0},"end":{"row":274,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":274,"column":4},"end":{"row":295,"column":2},"action":"insert","lines":[" //   var  dim = ndx.dimension(dc.pluck('sex'));","","/*    var profByGender = dim.group().reduce(","        function (p, v) {","            p.total++;","            if(v.rank == rank) {","                p.match++;","            }","            return p;","        },","        function (p, v) {","            p.total--;","            if(v.rank == rank) {","                p.match--;","            }","            return p;","        },","        function () {","            return {total: 0, match: 0};","        }","    );","*/"],"id":112}],[{"start":{"row":274,"column":0},"end":{"row":295,"column":2},"action":"remove","lines":["     //   var  dim = ndx.dimension(dc.pluck('sex'));","","/*    var profByGender = dim.group().reduce(","        function (p, v) {","            p.total++;","            if(v.rank == rank) {","                p.match++;","            }","            return p;","        },","        function (p, v) {","            p.total--;","            if(v.rank == rank) {","                p.match--;","            }","            return p;","        },","        function () {","            return {total: 0, match: 0};","        }","    );","*/"],"id":113},{"start":{"row":273,"column":4},"end":{"row":274,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":271,"column":0},"end":{"row":271,"column":2},"action":"insert","lines":["*/"],"id":114},{"start":{"row":271,"column":0},"end":{"row":271,"column":2},"action":"insert","lines":["/*"]}],[{"start":{"row":271,"column":2},"end":{"row":271,"column":4},"action":"remove","lines":["*/"],"id":115}],[{"start":{"row":328,"column":1},"end":{"row":329,"column":0},"action":"insert","lines":["",""],"id":116},{"start":{"row":329,"column":0},"end":{"row":330,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":330,"column":0},"end":{"row":330,"column":2},"action":"insert","lines":["*/"],"id":117}]]},"ace":{"folds":[],"scrolltop":5010.59375,"scrollleft":0,"selection":{"start":{"row":330,"column":2},"end":{"row":330,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":306,"state":"comment","mode":"ace/mode/javascript"}},"timestamp":1566491579917,"hash":"7cc092c3f3ca214c0c379b4f0d60816824d0dc0c"}